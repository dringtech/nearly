{
  "version": 3,
  "sources": ["../src/lib.ts", "../src/utils.ts", "../src/ratio.ts"],
  "sourcesContent": ["export { ratioed } from './ratio.ts';\n\nexport const readableDirection = (difference) => {\n  if (difference === 0) return 'exactly';\n\tif (difference < -0.01) return 'less than';\n\tif (difference > 0.01) return 'more than';\n\treturn 'about';\n}", "export function clamp(min: number, number: number, max: number) {\n\treturn Math.max(min, Math.min(number, max));\n}\n", "import { clamp } from './utils.ts';\n\ntype Ratio = { numerator: number, denominator: number, difference: number };\ntype RatioedOptions = {\n  maxDenominator?: number;\n}\n\nconst ratioSort = (a:Ratio, b: Ratio) => {\n  const difference = Math.abs(a.difference) - Math.abs(b.difference);\n  const denominator = a.denominator - b.denominator;\n  if (difference === 0) return denominator;\n  return difference;\n}\n\nexport function ratioed(ratio: number, options: RatioedOptions = {}) {\n  const possibleRatios: Ratio[] = [];\n  const maxDenominator = options.maxDenominator || 10;\n  const tolerance = 0.1 / maxDenominator;\n\n  for (let denominator = 2; denominator <= maxDenominator; denominator++) {\n    const numerator = clamp(1, Math.round(ratio * denominator), denominator - 1);\n    const difference = ratio - numerator / denominator;\n    possibleRatios.push({\n      numerator,\n      denominator,\n      difference,\n    });\n    if (Math.abs(difference) < tolerance) break;\n  }\n\n  return possibleRatios\n    .sort(ratioSort)\n    .shift();\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAO,WAAS,MAAM,KAAa,QAAgB,KAAa;AAC/D,WAAO,KAAK,IAAI,KAAK,KAAK,IAAI,QAAQ,GAAG,CAAC;AAAA,EAC3C;;;ACKA,MAAM,YAAY,CAAC,GAAS,MAAa;AACvC,UAAM,aAAa,KAAK,IAAI,EAAE,UAAU,IAAI,KAAK,IAAI,EAAE,UAAU;AACjE,UAAM,cAAc,EAAE,cAAc,EAAE;AACtC,QAAI,eAAe;AAAG,aAAO;AAC7B,WAAO;AAAA,EACT;AAEO,WAAS,QAAQ,OAAe,UAA0B,CAAC,GAAG;AACnE,UAAM,iBAA0B,CAAC;AACjC,UAAM,iBAAiB,QAAQ,kBAAkB;AACjD,UAAM,YAAY,MAAM;AAExB,aAAS,cAAc,GAAG,eAAe,gBAAgB,eAAe;AACtE,YAAM,YAAY,MAAM,GAAG,KAAK,MAAM,QAAQ,WAAW,GAAG,cAAc,CAAC;AAC3E,YAAM,aAAa,QAAQ,YAAY;AACvC,qBAAe,KAAK;AAAA,QAClB;AAAA,QACA;AAAA,QACA;AAAA,MACF,CAAC;AACD,UAAI,KAAK,IAAI,UAAU,IAAI;AAAW;AAAA,IACxC;AAEA,WAAO,eACJ,KAAK,SAAS,EACd,MAAM;AAAA,EACX;;;AF/BO,MAAM,oBAAoB,CAAC,eAAe;AAC/C,QAAI,eAAe;AAAG,aAAO;AAC9B,QAAI,aAAa;AAAO,aAAO;AAC/B,QAAI,aAAa;AAAM,aAAO;AAC9B,WAAO;AAAA,EACR;",
  "names": []
}
